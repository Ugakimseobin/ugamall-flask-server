{% extends "base.html" %}
{% block content %}

<!-- Hero -->
<section id="hero" class="relative h-80 md:h-[28rem] flex items-center justify-center text-white overflow-hidden">
  <!--<video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover">
    <source src="{{ url_for('static', filename='videos/ocean.mp4') }}" type="video/mp4">
  </video>-->
  <img src="{{ url_for('static', filename='images/company.jpg') }}" class="absolute inset-0 w-full h-full object-cover">
  <div class="absolute inset-0 bg-black/45"></div>
  <div class="relative z-10 text-center">
    <h1 class="text-3xl md:text-5xl font-extrabold drop-shadow" style="font-family:'DesignHouse',sans-serif; font-weight:700; font-size:2rem;">{{ _("유가에 대해") }}</h1>
    <p class="mt-3 opacity-90" style="font-family:'DesignHouse',sans-serif; font-weight:400; font-size:2rem;">{{ _("혁신 · 신뢰 · 협력") }}</p>
  </div>
</section>

<!-- ─────────────────────────────────────────────────────────────
     왼쪽 고정 타임라인 네비게이션 (항상 보임)
     텍스트는 선의 왼쪽, 점은 선 위(이미지처럼)
     ───────────────────────────────────────────────────────────── -->
<nav id="sideNav"
     class="fixed md:left-24 md:top-1/3 bottom-0 left-0 w-full md:w-auto z-50 opacity-0 pointer-events-none transition duration-500 bg-white/90 md:bg-transparent">
  <div class="relative md:pl-6 py-2 select-none flex md:block justify-around border-t md:border-0">
    <!-- 세로 라인 (데스크탑 전용) -->
    <span class="hidden md:block absolute left-7 top-0 bottom-0 w-px bg-indigo-400 rounded"></span>

    <!-- 링크들 -->
    <a href="#intro"    class="tl block relative py-4 md:py-8 flex items-center">
      <span class="dot"></span>
      <span class="label">{{ _("소개") }}</span>
    </a>
    <a href="#history"  class="tl block relative py-4 md:py-8 flex items-center">
      <span class="dot"></span>
      <span class="label">{{ _("연혁") }}</span>
    </a>
    <a href="#partners" class="tl block relative py-4 md:py-8 flex items-center">
      <span class="dot"></span>
      <span class="label">{{ _("파트너") }}</span>
    </a>
  </div>
</nav>

<!-- 소개 -->
<section id="intro" class="py-20 bg-white">
  <div class="max-w-6xl mx-auto px-6 space-y-24">
    <h2 class="text-3xl font-bold text-center mb-16">{{ _("소개") }}</h2>
    <div class="grid md:grid-cols-2 gap-10 items-center reveal">
      <img src="{{ url_for('static', filename='images/intro1.jpg') }}" class="w-full h-80 object-cover rounded-xl shadow-lg" alt="혁신 아이디어">
      <div>
        <h3 class="text-3xl font-bold text-indigo-700 mb-4">{{ _("고객 중심") }}</h3>
        <p class="text-gray-600 leading-relaxed text-lg whitespace-pre-line">{{ _("모든 제품과 서비스는 고객의 건강과 편의를 최우선으로 합니다.
쉽고 편리한 쇼핑 경험을 제공하고, 구매 후에도 만족할 수 있도록 지속적인 관리와 지원을 약속합니다.") }}</p>
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-10 items-center reveal">
      <div class="order-2 md:order-1">
        <h3 class="text-3xl font-bold text-indigo-700 mb-4">{{ _("신뢰와 품질") }}</h3>
        <p class="text-gray-600 leading-relaxed text-lg whitespace-pre-line">{{ _("엄격한 검증을 거친 정품 의료·건강 제품만을 취급합니다.
투명한 정보 제공과 철저한 품질 관리로 고객이 안심하고 사용할 수 있는 쇼핑몰이 되겠습니다.") }}</p>
      </div>
      <img src="{{ url_for('static', filename='images/intro2.jpg') }}" class="order-1 md:order-2 w-full h-80 object-cover rounded-xl shadow-lg" alt="노트북과 기술">
    </div>

    <div class="grid md:grid-cols-2 gap-10 items-center reveal">
      <img src="{{ url_for('static', filename='images/intro3.jpg') }}" class="w-full h-80 object-cover rounded-xl shadow-lg" alt="파트너십">
      <div>
        <h3 class="text-3xl font-bold text-indigo-700 mb-4">{{ _("지속적인 혁신") }}</h3>
        <p class="text-gray-600 leading-relaxed text-lg whitespace-pre-line">{{ _("최신 기술과 데이터를 기반으로 개인 맞춤형 의료·헬스케어 솔루션을 제공합니다.
단순한 판매를 넘어, 고객의 건강한 삶을 위한 스마트 헬스 플랫폼으로 발전해 나갑니다") }}.</p>
      </div>
    </div>
  </div>
</section>

<!-- 연혁 -->
<section id="history" class="bg-gray-50 py-20">
  <div class="max-w-5xl mx-auto px-6">
    <h2 class="text-3xl font-bold text-center mb-16">{{ _("연혁") }}</h2>

    <div class="relative">
      <!-- 중앙 라인 -->
      <div class="absolute left-1/2 -translate-x-1/2 w-px bg-indigo-200 h-full"></div>

      <!-- 2025 (오른쪽) -->
      <div class="mb-24 flex justify-between items-center w-full reveal-right">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-indigo-600 rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg">
          <h3 class="text-lg font-bold text-indigo-600">2025</h3>
          <p class="text-gray-600">{{ _("UGAMALL 온라인 플랫폼 공식 런칭") }}</p>
        </div>
      </div>

      <!-- 2023 (왼쪽) -->
      <div class="mb-24 flex justify-between items-center w-full flex-row-reverse reveal-left">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-indigo-600 rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg text-right">
          <h3 class="text-lg font-bold text-indigo-600">2023</h3>
          <p class="text-gray-600">{{ _("신규 의료기기 보급 확대 및 파트너십 체결") }}</p>
        </div>
      </div>

      <!-- 2020 (오른쪽) -->
      <div class="mb-24 flex justify-between items-center w-full reveal-right">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-indigo-600 rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg">
          <h3 class="text-lg font-bold text-indigo-600">2020</h3>
          <p class="text-gray-600">{{ _("관절 치료/재활 라인업 강화") }}</p>
        </div>
      </div>

      <!-- 2018 (왼쪽) -->
      <div class="mb-24 flex justify-between items-center w-full flex-row-reverse reveal-left">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-indigo-600 rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg text-right">
          <h3 class="text-lg font-bold text-indigo-600">2018</h3>
          <p class="text-gray-600">{{ _("법인 설립") }}</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 파트너 -->
<section id="partners" class="py-16 bg-white">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-2xl md:text-3xl font-bold reveal">{{ _("함께하는 사람들") }}</h2>
    <p class="text-gray-600 leading-relaxed max-w-3xl mx-auto reveal">{{ _("국내외 다양한 파트너사와 함께 헬스케어의 미래를 만들어갑니다.") }}</p>

    <div class="grid sm:grid-cols-2 gap-8 mt-10">
      <div class="bg-white rounded-xl shadow-md p-10 font-extrabold text-indigo-600 text-2xl hover:shadow-lg transition reveal-left">폼메디칼</div>
      <div class="bg-white rounded-xl shadow-md p-10 font-extrabold text-indigo-600 text-2xl hover:shadow-lg transition reveal-right">메디케이</div>
    </div>
  </div>
</section>

<!-- 맨 위로 -->
<button id="backToTop" 
  class="hidden fixed bottom-6 right-6 bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 transition hidden md:block">
  ↑
</button>

<!-- Scripts -->
<script>
  // 부드러운 스크롤
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click',e=>{
      e.preventDefault();
      document.querySelector(a.getAttribute('href')).scrollIntoView({behavior:'smooth'});
    });
  });

  // 사이드 네비 active 동기화
  const links = [...document.querySelectorAll('#sideNav .tl')];
  const sections = ['#intro','#history','#partners'].map(id=>document.querySelector(id));

  const setActive = (idx)=>{
    links.forEach((el,i)=> el.classList.toggle('active', i===idx));
  };

  const io = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        const idx = sections.indexOf(entry.target);
        if(idx>-1) setActive(idx);
      }
    });
  }, { rootMargin: '-40% 0px -50% 0px', threshold: 0.01 });

  sections.forEach(s => io.observe(s));

  // 등장 애니메이션
  const reveals = document.querySelectorAll('.reveal, .reveal-left, .reveal-right');
  const io2 = new IntersectionObserver((ents)=>{
    ents.forEach(ent=>{
      if(ent.isIntersecting) ent.target.classList.add('active');
    });
  }, {threshold:0.15});
  reveals.forEach(el=>io2.observe(el));

  // 맨 위로 버튼
  const toTop = document.getElementById('backToTop');
  window.addEventListener('scroll', ()=>{
    if (window.scrollY > 300) toTop.classList.remove('hidden'); else toTop.classList.add('hidden');
  });
  toTop.addEventListener('click', ()=> window.scrollTo({ top:0, behavior:'smooth'}));
</script>

<script>
  // Hero 지나면 네비 나타나기
  const sideNav = document.getElementById("sideNav");
  const hero = document.getElementById("hero");

  const ioNav = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        // Hero 보일 때는 숨김
        sideNav.classList.remove("show-nav");
      } else {
        // Hero 벗어나면 보임
        sideNav.classList.add("show-nav");
      }
    });
  }, {threshold:0.2});
  ioNav.observe(hero);
</script>

<style>
  /* --- 사이드 네비 --- */
  #sideNav .tl .dot{
    flex-shrink:0;
    width:10px; height:10px; border-radius:9999px;
    background:#9aa3b2;
    margin-right:6px;
    transition: background .2s ease, box-shadow .2s ease;
    z-index:2;
  }
  #sideNav .tl .label{
    font-size:14px; color:#374151;
    transition: color .2s ease, font-weight .2s ease;
  }
  #sideNav .tl.active .dot{
    background:#6366f1;
    box-shadow:0 0 0 4px rgba(99,102,241,.22);
  }
  #sideNav .tl.active .label{ color:#4f46e5; font-weight:700; }
  #sideNav.show-nav{
    opacity:1 !important;
    pointer-events:auto !important;
  }
  /* 모바일(가로 메뉴) */
  @media (max-width: 767px){
    #sideNav .tl{ flex-direction: column; align-items:center; font-size:12px; }
    #sideNav .tl .dot{ margin-right:0; margin-bottom:4px; }
    #sideNav .label{ font-size:12px; }
  }

  /* --- 섹션 등장 애니메이션 --- */
  .reveal, .reveal-left, .reveal-right{
    opacity:0; transform:translateY(24px);
    transition:opacity 1.2s ease, transform 1.2s ease;
  }
  .reveal-left{  transform:translateX(-24px); }
  .reveal-right{ transform:translateX(24px);  }
  .reveal.active, .reveal-left.active, .reveal-right.active{
    opacity:1; transform:translate(0,0);
  }
</style>

{% endblock %}
