{% extends "base.html" %}
{% block content %}

<!-- Hero -->
<section id="hero" class="relative h-80 md:h-[28rem] flex items-center justify-center text-white overflow-hidden">
  <!--<video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover">
    <source src="{{ url_for('static', filename='videos/ocean.mp4') }}" type="video/mp4">
  </video>-->
  <img src="{{ url_for('static', filename='images/company.jpg') }}" class="absolute inset-0 w-full h-full object-cover">
  <div class="absolute inset-0 bg-black/45"></div>
  <div class="relative z-10 text-center">
    <h1 class="text-3xl md:text-5xl font-extrabold drop-shadow" style="font-family:'DesignHouse',sans-serif; font-weight:700;">{{ _("유가 소개") }}</h1>
  </div>
</section>

<!-- ─────────────────────────────────────────────────────────────
     왼쪽 고정 타임라인 네비게이션 (항상 보임)
     텍스트는 선의 왼쪽, 점은 선 위(이미지처럼)
     ───────────────────────────────────────────────────────────── -->
<nav id="sideNav"
     class="fixed md:left-24 md:top-1/3 bottom-0 left-0 w-full md:w-auto z-50 opacity-0 pointer-events-none transition duration-500 bg-white/90 md:bg-transparent">
  <div class="relative md:pl-6 py-1/2 select-none flex md:block justify-around border-t md:border-0">
    <!-- 세로 라인 (데스크탑 전용) -->
    <span class="hidden md:block absolute left-7 top-0 bottom-0 w-px bg-[#9aa3b2] rounded"></span>

    <!-- 링크들 -->
    <a href="#intro"    class="tl block relative py-4 md:py-8 flex items-center">
      <span class="dot"></span>
      <span class="label">{{ _("소개") }}</span>
    </a>
    <a href="#history"  class="tl block relative py-4 md:py-8 flex items-center">
      <span class="dot"></span>
      <span class="label">{{ _("연혁") }}</span>
    </a>
    <a href="#partners" class="tl block relative py-4 md:py-8 flex items-center">
      <span class="dot"></span>
      <span class="label">{{ _("파트너") }}</span>
    </a>
  </div>
</nav>

<!-- 소개 -->
<section id="intro" class="py-20 bg-white">
  <p class="text-lg sm:text-xl text-center leading-relaxed">
    <strong>유가</strong>는 의료 현장의 <strong>신뢰</strong>를 바탕으로,  
    작지만 단단한 걸음을 이어왔습니다.  
    사람과 기술, 그리고 헌신으로 건강한 내일을 만듭니다.
  </p>
</section>

<!-- 연혁 -->
<section id="history" class="bg-gray-50 py-20">
  <div class="max-w-5xl mx-auto px-6">
    <h2 class="text-3xl font-bold text-center mb-16">{{ _("연혁") }}</h2>

    <div class="relative">
      <!-- 중앙 라인 -->
      <div class="absolute left-1/2 -translate-x-1/2 w-px bg-[#9aa3b2] h-full"></div>

      <!-- 2025 (오른쪽) -->
      <div class="mb-24 flex justify-between items-center w-full reveal-right">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-[#222] rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg">
          <h3 class="text-lg font-bold text-[#222]">2025</h3>
          <p>새로운 도약, 주식회사 유가</p>
          <p class="text-gray-600">{{ _("새로운 의료·헬스케어 시장으로 확장 준비") }}</p>
        </div>
      </div>

      <!-- 2023 (왼쪽) -->
      <div class="mb-24 flex justify-between items-center w-full flex-row-reverse reveal-left">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-[#222] rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg text-right">
          <h3 class="text-lg font-bold text-[#222]">2024</h3>
          <p>협력과 확장의 해</p>
          <p class="text-gray-600">{{ _("함께 성장하는 브랜드로 시장 내 신뢰 확립") }}</p>
        </div>
      </div>

      <!-- 2020 (오른쪽) -->
      <div class="mb-24 flex justify-between items-center w-full reveal-right">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-[#222] rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg">
          <h3 class="text-lg font-bold text-[#222]">2023</h3>
          <p>안정과 도약의 해</p>
          <p class="text-gray-600">{{ _("신제품 개발·출시로 성장 기반") }}</p>
        </div>
      </div>

      <div class="mb-24 flex justify-between items-center w-full flex-row-reverse reveal-left">
        <div class="w-5/12"></div>
        <div class="z-10"><div class="w-3 h-3 bg-[#222] rounded-full shadow"></div></div>
        <div class="w-5/12 bg-white shadow-md p-6 rounded-lg text-right">
          <h3 class="text-lg font-bold text-[#222]">2022</h3>
          <p>시작의 해, 유가메디칼의 출발</p>
          <p class="text-gray-600">{{ _("작지만 믿을 수 있는 의료") }}</p>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- 파트너 -->
<section id="partners" class="py-16 bg-white">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-2xl md:text-3xl font-bold reveal">{{ _("함께하는 사람들") }}</h2>
    <p class="text-gray-600 leading-relaxed max-w-3xl mx-auto reveal">{{ _("국내외 다양한 파트너사와 함께 헬스케어의 미래를 만들어갑니다.") }}</p>

    <div class="grid sm:grid-cols-3 gap-8 mt-10">
      <div class="partner-card bg-white rounded-xl shadow-md p-10 font-extrabold text-[#222] text-2xl hover:shadow-lg transition reveal-left cursor-pointer"
           data-name="주식회사 폼" 
           data-desc="정형외과 및 재활 보조기 전문 제조사로, UGA와 장기 공급 계약 체결. 국내 의료기기 품질 인증 다수 보유.">
        주식회사 폼
      </div>
      <div class="partner-card bg-white rounded-xl shadow-md p-10 font-extrabold text-[#222] text-2xl hover:shadow-lg transition reveal-right cursor-pointer"
           data-name="메디케이" 
           data-desc="의료 소모품 유통 전문 기업으로, UGA몰에 다양한 제품을 공급하며 협력 관계 유지. 전국 병원 납품망 보유.">
        메디케이
      </div>
      <div class="partner-card bg-white rounded-xl shadow-md p-10 font-extrabold text-[#222] text-2xl hover:shadow-lg transition reveal-right cursor-pointer"
           data-name="하나캐피탈" 
           data-desc="UGA몰과 의료기기 렌탈 및 리스 금융 파트너십 체결. 의료 종사자 대상 맞춤 금융 상품 지원.">
        하나캐피탈
      </div>
    </div>
  </div>
</section>
<!-- ✅ 모달 -->
<div id="partnerModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
  <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-[90%] relative">
    <button id="closeModal" class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
    <h3 id="modalName" class="text-2xl font-bold text-[#222] mb-4"></h3>
    <p id="modalDesc" class="text-gray-600 leading-relaxed text-base"></p>
  </div>
</div>
<!-- 맨 위로 -->
<button id="backToTop" 
  class="hidden fixed md:bottom-6 bottom-[70px] right-6  bg-white border border-gray-400 text-[#222] p-3 rounded-full shadow-lg hover:bg-gray-100 transition hidden md:block">
  ↑
</button>

<!-- Scripts -->
<script>
  // 부드러운 스크롤
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click',e=>{
      e.preventDefault();
      document.querySelector(a.getAttribute('href')).scrollIntoView({behavior:'smooth'});
    });
  });

  // 사이드 네비 active 동기화
  const links = [...document.querySelectorAll('#sideNav .tl')];
  const sections = ['#intro','#history','#partners'].map(id=>document.querySelector(id));

  const setActive = (idx)=>{
    links.forEach((el,i)=> el.classList.toggle('active', i===idx));
  };

  const io = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        const idx = sections.indexOf(entry.target);
        if(idx>-1) setActive(idx);
      }
    });
  }, { rootMargin: '-40% 0px -50% 0px', threshold: 0.01 });

  sections.forEach(s => io.observe(s));

  // 등장 애니메이션
  const reveals = document.querySelectorAll('.reveal, .reveal-left, .reveal-right');
  const io2 = new IntersectionObserver((ents)=>{
    ents.forEach(ent=>{
      if(ent.isIntersecting) ent.target.classList.add('active');
    });
  }, {threshold:0.15});
  reveals.forEach(el=>io2.observe(el));

  // 맨 위로 버튼
  const toTop = document.getElementById('backToTop');
  window.addEventListener('scroll', ()=>{
    if (window.scrollY > 300) toTop.classList.remove('hidden'); else toTop.classList.add('hidden');
  });
  toTop.addEventListener('click', ()=> window.scrollTo({ top:0, behavior:'smooth'}));
</script>

<script>
  // Hero 지나면 네비 나타나기
  const sideNav = document.getElementById("sideNav");
  const hero = document.getElementById("hero");

  const ioNav = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        // Hero 보일 때는 숨김
        sideNav.classList.remove("show-nav");
      } else {
        // Hero 벗어나면 보임
        sideNav.classList.add("show-nav");
      }
    });
  }, {threshold:0.2});
  ioNav.observe(hero);
</script>

<!-- 파트너 모달 -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("partnerModal");
  const modalName = document.getElementById("modalName");
  const modalDesc = document.getElementById("modalDesc");
  const closeModal = document.getElementById("closeModal");

  document.querySelectorAll(".partner-card").forEach(card => {
    card.addEventListener("click", () => {
      modalName.textContent = card.dataset.name;
      modalDesc.textContent = card.dataset.desc;
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    });
  });

  closeModal.addEventListener("click", () => {
    modal.classList.add("hidden");
  });

  modal.addEventListener("click", (e) => {
    if (e.target === modal) modal.classList.add("hidden");
  });
});
</script>

<style>
  /* --- 사이드 네비 --- */
  #sideNav .tl .dot{
    flex-shrink:0;
    width:10px; height:10px; border-radius:9999px;
    background:#9aa3b2;
    margin-right:6px;
    transition: background .2s ease, box-shadow .2s ease;
    z-index:2;
  }
  #sideNav .tl .label{
    font-size:14px; color:#374151;
    transition: color .2s ease, font-weight .2s ease;
  }
  #sideNav .tl.active .dot{
    background:rgb(66, 66, 66);
    box-shadow:0 0 0 4px rgba(99,102,241,.22);
  }
  #sideNav .tl.active .label{ color:#222; font-weight:700; }
  #sideNav.show-nav{
    opacity:1 !important;
    pointer-events:auto !important;
  }
  /* 모바일(가로 메뉴) */
  @media (max-width: 767px){
    #sideNav .tl{ flex-direction: column; align-items:center; font-size:12px; }
    #sideNav .tl .dot{ margin-right:0; margin-bottom:4px; }
    #sideNav .label{ font-size:12px; }
  }

  /* --- 섹션 등장 애니메이션 --- */
  .reveal, .reveal-left, .reveal-right{
    opacity:0; transform:translateY(24px);
    transition:opacity 1.2s ease, transform 1.2s ease;
  }
  .reveal-left{  transform:translateX(-24px); }
  .reveal-right{ transform:translateX(24px);  }
  .reveal.active, .reveal-left.active, .reveal-right.active{
    opacity:1; transform:translate(0,0);
  }
</style>

{% endblock %}
