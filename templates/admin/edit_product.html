{% extends "base.html" %}
{% block content %}
<div class="max-w-3xl mx-auto bg-white p-4 sm:p-6 shadow rounded mt-6 sm:mt-8">
  <h1 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">상품 수정</h1>
  <form method="post" enctype="multipart/form-data" class="space-y-4">
    
    <!-- 상품명 -->
    <div>
      <label class="block font-semibold mb-1">상품명</label>
      <input type="text" name="name" 
             value="{{ product.name }}" 
             class="w-full border p-2 rounded text-sm sm:text-base" required>
    </div>

    <!-- 가격 -->
    <div>
      <label class="block font-semibold mb-1">가격</label>
      <input type="number" step="1" name="base_price" min="0"
             value="{{ product.base_price }}" 
             class="w-full border p-2 rounded text-sm sm:text-base" required>
    </div>

    <!-- 카테고리 -->
    <div>
      <label class="block font-semibold mb-1">카테고리</label>
      <input type="text" name="category" 
             value="{{ product.category }}" 
             class="w-full border p-2 rounded text-sm sm:text-base">
    </div>

    <!-- 설명 -->
    <div>
      <label class="block font-semibold mb-1">설명</label>
      <textarea name="description" rows="5" 
                class="w-full border p-2 rounded text-sm sm:text-base">{{ product.description }}</textarea>
    </div>

    <!-- 이미지 업로드 -->
    <div>
      <label class="block font-semibold mb-1">대표 이미지</label>
      {% if product.image %}
        <img src="{{ url_for('static', filename='images/' ~ product.image) }}" 
             class="h-24 sm:h-32 mb-2 rounded shadow object-contain">
      {% endif %}
      <input type="file" name="image" class="w-full border p-2 rounded text-sm sm:text-base">
    </div>

    <!-- 팜플렛 업로드 -->
    <div>
      <label class="block font-semibold mb-1">팜플렛</label>
      {% if product.pamphlet %}
        <a href="{{ url_for('static', filename='pamphlets/' ~ product.pamphlet) }}" 
           target="_blank" 
           class="text-blue-600 hover:underline text-sm sm:text-base block mb-2">
          📄 현재 팜플렛 보기
        </a>
      {% endif %}
      <input type="file" name="pamphlet" class="w-full border p-2 rounded text-sm sm:text-base">
    </div>

    <button type="submit" 
            class="w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 text-sm sm:text-base font-semibold">
      저장
    </button>
  </form>
</div>
{% endblock %}
